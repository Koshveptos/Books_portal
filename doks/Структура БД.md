
# Описание структуры базы данных

## Таблица `users`
- `id`              UUID PRIMARY KEY  Уникальный идентификатор пользователя
- `username`        VARCHAR(255) UNIQUE NOT NULL  Уникальное имя пользователя
- `email`           VARCHAR(255) UNIQUE NOT NULL  Уникальный email пользователя
- `role`            VARCHAR(50) NOT NULL  Роль пользователя (администратор, пользователь, модератор)
- `password`   VARCHAR(255) NOT NULL  Захешированный пароль пользователя
- `created_at`      TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата создания пользователя
- `updated_at`      TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата последнего обновления

## Таблица `books`
- `id`    UUID PRIMARY KEY  Уникальный идентификатор книги
- `title`    VARCHAR(255) NOT NULL  Название книги
- `author`    VARCHAR(255) NOT NULL  Автор книги
- `year`    VARCHAR(4)  Год издания
- `publisher`    VARCHAR(255)  Издатель
- `isbn`    VARCHAR(20) UNIQUE  Уникальный ISBN
- `description`    TEXT  Описание книги
- `cover`    VARCHAR(255)  Ссылка на обложку
- `categories`    UUID REFERENCES categories(id)  Категория книги
- `tags`    VARCHAR[]  Теги книги
- `language`    VARCHAR(50)  Язык книги
- `file_url`    VARCHAR(255)  Ссылка на файл
- `created_at`    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата добавления
- `updated_at`    TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата обновления


## Таблица `categories`
- `id`    UUID PRIMARY KEY  Уникальный идентификатор категории
- `book_id` UUID REFERENCES books(id)  Идентификатор книги
- `name`    VARCHAR(255) UNIQUE NOT NULL  Название категории
- `description`    TEXT  Описание категории


## Таблица `recommendations`
##### (продумать насчет реков, будут ли оно обновляться, вычислять каждый раз заново и тд, переделать)
- `id` UUID PRIMARY KEY  Уникальный идентификатор рекомендации
- `book_id` UUID REFERENCES books(id)  Идентификатор книги

## Таблица `sessions`
- `id` UUID PRIMARY KEY  Уникальный идентификатор сессии
- `user_id` UUID REFERENCES users(id)  Идентификатор пользователя
- `session_token` VARCHAR(255) UNIQUE NOT NULL  Уникальный токен сессии
- `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата создания сессии
- `expires_at` TIMESTAMP NOT NULL  Дата истечения сессии

## Таблица `user_books`
- `id` UUID PRIMARY KEY  Уникальный идентификатор связи пользователя с книгой
- `user_id` UUID REFERENCES users(id)  Идентификатор пользователя
- `book_id` UUID REFERENCES books(id)  Идентификатор книги
- `uploaded_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата загрузки книги пользователем

## Таблица `downloads`
- `id` UUID PRIMARY KEY  Уникальный идентификатор загрузки
- `user_id` UUID REFERENCES users(id)  Идентификатор пользователя
- `book_id` UUID REFERENCES books(id)  Идентификатор книги
- `downloaded_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP  Дата и время скачивания
