@startuml
title Диаграмма деятельности: Работа с книжным порталом
start

:Открыть портал;
:Ввести учетные данные;

if (Учетные данные верны?) then (Да)
  :Отобразить главную страницу;

  while (Работа с системой?) is (Да)
    :Ввести поисковый запрос;
    :Выполнить поиск в базе;
    :Отобразить результаты;

    if (Выбрать книгу?) then (Да)
      :Показать детали книги;
    else (Нет)
      :Вернуться к поиску;
    endif
  endwhile

  :Выйти из системы;
  stop
else (Нет)
  :Показать сообщение об ошибке;
  stop
endif
@enduml
